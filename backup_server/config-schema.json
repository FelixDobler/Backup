{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "properties": {
        "backupDir": {
            "description": "Root directory of all backup related files",
            "type": "string"
        },
        "syncDir": {
            "description": "Directory where the clients sync their data to",
            "type": "string"
        },
        "logDir": {
            "description": "Root directory of all log files",
            "type": "string"
        },
        "logDirIncoming": {
            "description": "Directory for log files generated by incoming syncs",
            "type": "string"
        },
        "email": {
            "description": "Email recipient for the alerts",
            "type": "string"
        },
        "uptimeKumaPushUrl": {
            "description": "URL to call if the check for last client sync succeeds",
            "type": "string",
            "pattern": "^https://.*$"
        },
        "clients": {
            "type": "object",
            "description": "Configurations for the clients go here",
            "patternProperties": {
                "^[a-zA-Z0-9\\-_]*$": {
                    "type": "object",
                    "description": "Configuration for a single client",
                    "properties": {
                        "alertThresholdAge": {
                            "description": "An alert is sent if this time has passed since the last successful client sync",
                            "type": "string",
                            "pattern": "^[0-9]+ (hour|day|week|month)s?$",
                            "examples": [
                                "3 days",
                                "1 week"
                            ]
                        }
                    }
                }
            },
            "additionalProperties": true
        },
        "nextcloud": {
            "type": "object",
            "properties": {
                "backupDir": {
                    "description": "Root directory of all files related to the Nextcloud backup",
                    "type": "string"
                },
                "dockerMountDir": {
                    "description": "Directory where the Nextcloud data from the docker container is mounted to the host",
                    "type": "string"
                }
            }
        }
    }
}
